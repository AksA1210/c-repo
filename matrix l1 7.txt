#include<conio.h>
#define s 20
class matrix
{
   int a[s][s],x,y;
    public:
   void get();
   void put();
   matrix operator+(matrix);
   matrix operator-(matrix);
   matrix operator*(matrix);
   matrix transpose();
};
void matrix::get()
{
   cout<<"Enter the order of Matrix "<<" :\n";
   cin>>x>>y;
   cout<<"Enter the Matrix "<<" :\n";
   for(int i=0;i<x;i++)
      for(int j=0;j<y;j++)
         cin>>a[i][j];
 
}
void matrix::put()
{
   cout<<"The Ans is:\n";
   for(int i=0;i<x;i++)
   {
      cout<<"\n\t";
      for(int j=0;j<y;j++)
         cout<<a[i][j]<<" ";
   }
}
matrix matrix::operator+(matrix b)
{
   matrix r;
   if((x!=b.x)||(y!=b.y))
   {
      cout<<"\n\tMatrix Addition is not possible the result is incorrect\n\n";
      r.x=0;
      r.y=0;
   }
   else
   {
      r.x=x;
      r.y=y;
   }
   for(int i=0;i<x;i++)
      for(int j=0;j<y;j++)
         r.a[i][j]=a[i][j]+b.a[i][j];
   return r;
}
matrix matrix::operator-(matrix b)
{
   matrix r;
   if((x!=b.x)||(y!=b.y))
   {
      cout<<"\n\tMatrix subtraction is not possible the result is incorrect\n\n";
      r.x=0;
      r.y=0;
   }
   else
   {
      r.x=x;
      r.y=y;
   }
   for(int i=0;i<x;i++)
      for(int j=0;j<y;j++)
         r.a[i][j]=a[i][j]-b.a[i][j];
 
 
   return r;
}
matrix matrix::operator*(matrix b)
{
   matrix r;
   if((x!=b.y)||(y!=b.x))
   {
      cout<<"Matrix Multiplication is not possible";
      r.x=0;
      r.y=0;
   }
   else
   {
      r.x=x;
      r.y=b.y;
   }
   for(int i=0;i<s;i++)
      for(int j=0;j<s;j++)
         r.a[i][j]=0;
   for(i=0;i<x;i++)
      for(j=0;j<b.y;j++)
         for(int k=0;(k<y)||(k<b.x);k++)
            r.a[i][j]+=a[i][k]*b.a[k][j];
 
   return r;
}
matrix matrix::transpose()
{
   matrix r;
   for(int i=0;i<x;i++)
      for(int j=0;j<y;j++)
         r.a[i][j]=a[j][i];
   r.x=x;
   r.y=y;
   return r;
}
int main()
{
   int t=1;
   clrscr();
   char op;
   matrix a,b,c;
   do
   {
       cout<<"You can do the following : "<<endl;
       cout<<"Enter appropriate number : "<<endl;
       cout<<"1 : Input the details of themrix "<<endl;
       cout<<"2 : 1.Matrix Addition "<<endl;
       cout<<"2 : 2.Display the matrix "<<endl;
       cout<<"3 : 3.Matrix Multiplication  "<<e3.Matrix Multiplicationdl;
       cout<<"4 : 4.Matrix Transponse "<<endl;
       cout<<"5 : Quit "<<endl;
       cout<<endl;
       cout<<"Enter your choice : "<<" ";
       cin>>x;
       switch(x)
       {
            case 1:
            a.get();
            b.get();
            c=a+b;
            c.put();
            break;
            case 2: a.display();
            break;
            case 3: a.mult()
            a.get();
            b.get();
            c=a*b;
            c.put();
            break;
            case 4: a.Transpose();
            case 5: break;
            default:cout<<"Error ! Please try again "<<endl;
        }
        char a;
        if (x!=5)
        {
        cout<<"Do you want to continue(y/n)?"<<" ";
        cin>>a;
        if (a=='n')
        {
            x=5;
        }
        }
    } while (x!=5);
    
    return(0);
}
   
   while(t)
   {
      
      op=getch();
      switch(op)
      {
        case '1':
         cout<<"\n\tMatrix Addition\n";
         a.get();
         b.get();
         c=a+b;
         c.put();
         break;
        case'2':
    
         break;
        case'3':
         cout<<"\n\tMatrix Multpication\n";
         a.get();
         b.get();
         c=a*b;
         c.put();
         break;
        case'4':
         cout<<"\Matrix Transpose\n";
         a.get();
         c=a.transpose();
         c.put();
         break;
      }
      getch();
   }
   getch();
   return 0;
}   